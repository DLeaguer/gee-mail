<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
        var getMain = document.getElementById('main');

        var headerh1 = document.createElement('h1');
        headerh1.className = 'header';
        headerh1.innerHTML = 'Gee-Mail';
        main.appendChild(headerh1);

        var counter = sender.length;

        var countDiv = document.createElement('p');
        countDiv.className = 'count';
        countDiv.innerHTML = 'Inbox: ' + counter + ' items.';
        main.appendChild(countDiv);

        for (var i=0; i<sender.length; i++){

        	var mainDiv = document.createElement('div');
        	mainDiv.className = 'main';
        	main.appendChild(mainDiv);

        	var dateDiv = document.createElement('div');
        	dateDiv.className = 'date';
        	dateDiv.innerHTML = 'Date: ' + getRandomDate();
        	mainDiv.appendChild(dateDiv);

        	var senderDiv = document.createElement('div');
        	senderDiv.className = 'sender';
        	senderDiv.innerHTML = 'Sender: ' + sender[i];
        	mainDiv.appendChild(senderDiv);

	        var subjectDiv = document.createElement('div');
	        subjectDiv.className = 'subject';
	        subjectDiv.innerHTML = 'Subject: ' + subject[i];
	        mainDiv.appendChild(subjectDiv);

	        var messageDiv = document.createElement('div');
	        messageDiv.className = 'message';
	        messageDiv.innerHTML = 'Message:';
	        mainDiv.appendChild(messageDiv);

	        var bodyDiv = document.createElement('div');
	        bodyDiv.className = 'body';
	        bodyDiv.innerHTML = body[i];
	        messageDiv.appendChild(bodyDiv);


        }

        var messDivGet = document.getElementsByClassName('message');
        for (i=0; i<messDivGet.length; i++){
            messDivGet[i].addEventListener('click', showBody);
        }

        function showBody(){
            var pElem = this.querySelectorAll('.body')[0];
            console.log(pElem);
            if (pElem.style.display === 'none'){
                pElem.style.display = 'block';
            }else{
                pElem.style.display = 'none';
            }
        }

        // console.log(getNewMessage());
        var objGet = getNewMessage();
        console.log(objGet);
        console.log(objGet.length);

        var moreMain = document.createElement('div');
        moreMain.className = 'moreMain';
        moreMain.innerHTML = '';
        main.appendChild(moreMain);

        var moreDate = document.createElement('div');
        moreDate.className = 'moreDate';
        moreDate.innerHTML = 'Date: ' + objGet.date;
        moreMain.appendChild(moreDate);

        var moreSender = document.createElement('div');
        moreSender.className = 'moreSender';
        moreSender.innerHTML = 'Sender: ' + objGet.sender;
        moreMain.appendChild(moreSender);

        var moreSubject = document.createElement('div');
        moreSubject.className = 'moreSubject';
        moreSubject.innerHTML = 'Subject: ' + objGet.subject;
        moreMain.appendChild(moreSubject);

        var moreMessage = document.createElement('div');
        moreMessage.className = 'moreMessage';
        moreMessage.innerHTML = 'Message: ';
        moreMain.appendChild(moreMessage);

        var moreBody = document.createElement('div');
        moreBody.className = 'moreBody';
        moreBody.innerHTML = objGet.body;
        moreMessage.appendChild(moreBody);



        

        // var moreDiv = document.createElement('div');
        // moreDiv.className = 'more';
        // moreDiv.innerHTML = 'New Messages';
        // main.appendChild(moreDiv);

        // var moreDivGet = document.getElementsByClassName('more');
        // for (i=0; i<moreDivGet.length; i++){
        //     moreDivGet[i].addEventListener('click', setInterval);
        // }

        // function setInterval(){
        //     var newMessage = document.createElement('div');
        //     newMessage.className = 'newMessage';
        //     newMessage.innerHTML = getNewMessage();
        //     moreDiv.appendChild(newMessage);
        // }
        
      };
    </script>
	</head>
	<body>
		<div class="container" id="main">
			<!-- Build Me! -->
		</div>
	</body>
</html>